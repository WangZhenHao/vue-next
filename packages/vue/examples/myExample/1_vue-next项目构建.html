<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        /**
        1:该项目配置只能用yarn安装，启动，在package.json的script中preinstall做了校验
        
        2:yarn dev命令执行流程

        先执行script文件夹中的dev.js, 改文件处理命令
        环境变量有：
        TARGET：需要编译的文件夹（有compiler-core, compiler-dom, reactivity等等）默认是vue文件夹；
        FORMATS：表示编译的格式
        COMMIT：git提交的日志

        案例：rollup -c --environment BUILD:production
        表示注入环境变量，可以通过process.env.BUILD拿到production的值
        
        实际上执行：
        vue3构建命名：rollup -wc --environment COMMIT:xxx,TARGET:vue,FORMATS:global

        3：解析命令行之后，就开始执行rollup.config.js文件
           获取TARGET文件夹的package.json的内容，既vue/pageage.json内容
           packageOptions = pkg.buildOptions

        最终packageConfigs是一个数组，[{
            input: xxx/packges/vue/src/index.js,
            output: xxx/packges/vue/dist/vue.global.js
        }]
        入口文件就是指向packges/vue/src/index.js

        注意一点的就是在入口文件import的路径别名是在tsconfig.json配置的
        配置项是：
          "paths": {
            "@vue/*": ["packages\/*\/src"],
            "vue": ["packages/vue/src"]
            }

        这时候就完成了yarn dev命令的构建


        执行单独模块： npm run dev template-explorer
        */
    </script>
</body>
</html>